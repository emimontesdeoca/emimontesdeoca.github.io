language: ruby
sudo: false
cache: bundler
rvm:
- 2.4.2
env:
  global:
    secure: oBmJqU4086j43JoU2hg8mJgex0RznE0br8ofbwTsIZgMZ5ym9i5pok1aogDYdUeP6itX0AyRWQZdrSj08nuHirmAtInfoUXt5+3OLwSYBlxObI2cM3AwmNPBGkdzyNBBbY97GOkM8AdnLY9EI3alzrfK6M70ubYyyCA/pns7VrkiMPG97BpFXS/UAlG7dAqJOWQKSo+3ptTINdpaXHyKK/v8vqrAfAhMyX3BG9HHX+Ry/PfFNKohqy6u15NZCOKx+UhUvKg/fYEz71Qdk2hYuCg3umb+Lba1tMoOmOLHXTlBo6Oi8OoCQB9H/ueDse782CtsTqki6zzA2EEYjmkImSA1Utwe29ToG4y8bbPJdfp43h023o/gBub6klO6jyJpwcHyLgqLSfyzcEGN9oG92GPwel0UNoInJAqoJJVvTv+zrKOW3h7yvSiEwMGaZ1Jo+pegQ2Y1+ntzoDyiP1biEK8wrWNfFoTQSazmQLuEKWwx7GD852a44G2wFHu2hlairSKY/T6WYMosx+feBloVd28FgCIklpB1eVMh7h/cO0VsRKJPiZ/2dF1C4vZtJevbcV30u4mtxfGdcPbW+D0t2iJMrOLlWC44eb67yjQ+6fFwwJbeR1uaWdyO/H5GXKbStX18b2KLvDasYTvQeYBVHZKAUtKCzXq7iZJvASK9ujE=
before_install:
- gem update --system
- gem update --remote bundler
before_script:
- git config --global user.name "$(git --no-pager show --no-patch --format='%an')"
- git config --global user.email "$(git --no-pager show --no-patch --format='%ae')"
script:
- git clone -b master --depth 1 "https://${TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git"
  _site >/dev/null 2>&1
- rm -rf _site/*
- bundle exec jekyll build
after_success:
- cd _site
- git add -A
- git commit -m "Updated to $(git rev-parse --short $TRAVIS_COMMIT) at $(date -u +'%Y-%m-%d %H:%M:%S %Z')"
- git push "https://${TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git" gh-pages >/dev/null 2>&1

