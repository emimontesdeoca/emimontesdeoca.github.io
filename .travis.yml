language: ruby
sudo: false
cache: bundler
rvm:
- 2.4.2
env:
  global:
  - secure: B4kIu7L1CYoq/opw+qABn9ZLWTCrXUP9DqHga3qyITw4Pr7THxywvkkCKdbBG4nhQqk116nFSTipyv6ly6sxnAA7EsvTK4Bi8gK+uGTFI290J0m3BzEqsRwJt5A1mle+SR2OeZMZCAqXQVj1Su5RXARXSdkeImTh3ldDmKQgawe0MGKsmYOBsll7ATAQoOpmUMXpxu2Vb+KtwZY8xU+JnLnO7YP9V4sWmZy6zKHCvbNOhSGdct11LZcrcG/FuJh/xavfTmv62etsDDkVRhGj0VTQVHNTk8UZ9Qf/wmC7GGh93XDxCHlddg2zqIIKEpWQuSpF6WJ7DSLdPvjvtvAlIzjpOgy3shygX1C8kbXzDNhsbeEihRIqs9qmcBpujjp2DlPkT27Su4wfLKNrIPFsIhXJZD9yrqcnLZheJkVIq9+WaVI8sLwhgfSymd6AXCbvKHF4ruXBaeWOVDDgnlyLZtbna3pPSL7hsCfu9E9P8Ba3p4w0LdMZ2Nah1OQMcjGlDNfCaXaFvO4vhcZIkRyh8hlU2/64fs9/4F6ozTp50quao1JTnMqB8DQqGzinKY4NHFYohaw16sdYQh35LXE8eku8llD6uLwz6WNXjVwtEwGpMMGK9XMggJZJaRKx482KkCHgMjrBP35/dj7oVLHhBB1XeU4HL7YrJD8eEy85OZQ=
before_install:
- gem update --system
- gem update --remote bundler
before_script:
- git config --global user.name "$(git --no-pager show --no-patch --format='%an')"
- git config --global user.email "$(git --no-pager show --no-patch --format='%ae')"
script:
- git clone -b gh-pages --depth 1 "https://${TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git"
  _site >/dev/null 2>&1
- rm -rf _site/*
- bundle exec jekyll build
after_success:
- cd _site
- git add -A
- git commit -m "Updated to $(git rev-parse --short $TRAVIS_COMMIT) at $(date -u +'%Y-%m-%d
  %H:%M:%S %Z')"
- git push "https://${TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git" gh-pages >/dev/null
  2>&1
branches:
  only:
  - master
